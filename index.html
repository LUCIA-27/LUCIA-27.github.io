<!doctype html>
<html lang="en">

<head>
	<title>PRIVATE Halle_4-1-619 website</title>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, user-scalable=no, minimum-scale=1.0, maximum-scale=1.0">
	<link rel=stylesheet href="css/base.css">
</head>

<body>
	<script src="js/Three.js"></script> <!--    -->
	<script src="js/Detector.js"></script> <!--    -->
	<script src="js/Stats.js"></script> <!--    -->
	<script src="js/OrbitControls.js"></script> <!--    -->
	<script src="js/KeyboardState.js"></script> <!--    -->
	<script src="js/THREEx.FullScreen.js"></script> <!--    -->
	<script src="js/THREEx.WindowResize.js"></script> <!--    -->
	<script type="text/javascript" src="js/physi.js"></script> <!--    -->
	<script type="text/javascript" src="js/dat.gui.js"></script> <!--    -->
	<!--                                                                 -->
	<div id="ThreeJS" style="position: absolute; left:0px; top:0px"></div>


	<script type="text/javascript"> //GUI mit workshop chrome experiments dataarts dat.GUI
		/*
		var gui_controls = new function() {
				this.conveyorSpeed = 5.0;
				this.conv_1_Speed = 5.0;
				}
		var gui = new dat.GUI();
				gui.add(gui_controls, 'conveyorSpeed',-10.0,10.0);
				gui.add(gui_controls, 'conv_1_Speed',-10.0,10.0);
				console.log ( "gui: conveyorSpeed ", gui_controls.conveyorSpeed );
				console.log ( "gui: conv_1_Speed ", gui_controls.conv_1_Speed );
		*/
	</script>


	<script>

		'use strict';

		Physijs.scripts.worker = 'js/physijs_worker.js';
		Physijs.scripts.ammo = 'ammo.js';

		// global
		var container;
		var scene;
		var camera;
		var renderer;
		var orb_controls; // in js OrbitControls
		var stats;

		var clock;
		clock = new THREE.Clock();

		var keyboard;
		keyboard = new KeyboardState();

		//   cs  var 
		var camera_cylinder_mesh;
		var light_sphere_mesh;
		var ground;
		var ground_material;

		var conv1_photocell_E_Collision;
		var conv2_photocell_E_Collision;

		var gravity;
		gravity = -50;  // -9.81 auf fünfache g Richtung abwärts, damit höhere Reibung auf den Förderbändern entsteht ! 

		// scene
		scene = new Physijs.Scene;
		scene.setGravity(new THREE.Vector3(0, gravity, 0));       //  -9.81  -30.0  -40.0  -50.0

		// CAMERA
		var SCREEN_WIDTH = window.innerWidth, SCREEN_HEIGHT = window.innerHeight;
		var VIEW_ANGLE = 35, ASPECT = SCREEN_WIDTH / SCREEN_HEIGHT, NEAR = 0.1, FAR = 20000;
		camera = new THREE.PerspectiveCamera(VIEW_ANGLE, ASPECT, NEAR, FAR);

		scene.add(camera);
		camera.position.set(20.0, 150.0, 20.0);
		camera.lookAt(scene.position);

		// renderer
		if (Detector.webgl) {
			renderer = new THREE.WebGLRenderer({ antialias: true });
			// !!!  renderer.setSize( window.innerWidth, window.innerHeight );
			renderer.shadowMapEnabled = true;
			renderer.shadowMapSoft = true;
			//renderer.setClearColor( 0xccccff, 0 ); // the color
			//document.getElementById( 'viewport' ).appendChild( renderer.domElement );
			//container = document.getElementById( 'ThreeJS' ).appendChild( renderer.domElement );
			//container.appendChild( renderer.domElement );
		}
		else {
			renderer = new THREE.CanvasRenderer();
		}
		renderer.setSize(SCREEN_WIDTH, SCREEN_HEIGHT);

		// container
		container = document.getElementById('ThreeJS');
		container.appendChild(renderer.domElement);

		// events
		THREEx.WindowResize(renderer, camera);
		THREEx.FullScreen.bindKey({ charCode: 'm'.charCodeAt(0) });   // Taste "m" ist Fullscreen, verlassen mit Taste "Esc"

		// orb_controls                 ( controls umbenannt in orb_controls (( wegen gui controls )) 
		orb_controls = new THREE.OrbitControls(camera, renderer.domElement);

		// stats
		stats = new Stats();												// anklicken der Statistik wechselt zwischen FPS (frames per second) und ms (Aufrufabstand)
		stats.domElement.style.position = 'absolute';						// optimal sind zur Zeit etwa 59 bis 60 FPS (bzw. ca. 17ms)
		stats.domElement.style.bottom = '0px';
		stats.domElement.style.zIndex = 100;
		container.appendChild(stats.domElement);

		// light
		var light = new THREE.DirectionalLight(0xFFFFFF);
		light.target.position.copy(scene.position);
		light.intensity = 1.5;
		light.castShadow = true;
		light.shadowCameraLeft = -60;
		light.shadowCameraTop = -60;
		light.shadowCameraRight = 60;
		light.shadowCameraBottom = 60;
		light.shadowCameraNear = 1;
		light.shadowCameraFar = 600;
		light.shadowBias = - .001
		light.shadowMapWidth = light.shadowMapHeight = 2048;
		light.shadowDarkness = 0.9;
		// light.shadowCameraVisible = true;
		light.position.set(60, 45, 40);
		scene.add(light);

		// light_sphere
		//
		// floor
		//
		// skybox
		//  
		//	ground
		//		material
		//		material simple
		//		material textured

		var pause = false;
		var conv_1_pause = false;
		var conv_2_pause = false;

		var Line = {
			Speed: 5.0,             //  Förderbänder Geschwindigkeit
			Speed_upd: 5.0
		}

		var ConveyorHeight = 1.0;     // wenn zu dünn fallen Kisten da durch
		var RailHeight = ConveyorHeight + 2.0;
		var ConveyorFriction = 0.9;
		var ConveyorRestitution = 0.4;
		var CornerSlipperyInvers = 0.5;
		var CornerBrakeIntensity = 0.8;
		var LineSpeed = Line.Speed;    //  Förderbänder Geschwindigkeit 

		var conv1_photocell_E_occ = false;      // Förderband_1 Lichtschranke vorbesetzt dunkel
		var conv2_photocell_E_occ = false;      // Förderband_2 (Eckumsetzer) Lichtschranke vorbesetzt dunkel

		var cs_wireframe = true;                // Förderbänder "transparent"

		//GUI mit workshop chrome experiments dataarts dat.GUI		
		var gui_controls = new function () {
			this.conveyorSpeed = 5.0;
			this.conv_1_Speed = 5.0;
		}

		var gui = new dat.GUI();
		gui.add(gui_controls, 'conveyorSpeed', -15.0, 15.0);
		gui.add(gui_controls, 'conv_1_Speed', -15.0, 15.0);

		console.log("gui: conveyorSpeed ", gui_controls.conveyorSpeed);
		console.log("gui: conv_1_Speed ", gui_controls.conv_1_Speed);

		//	
		//	
		//	conveyor
		//		material
		//  var conv_material ;
		//		material Normal
		//  conv_material = new THREE.MeshNormalMaterial();

		//		material Lambert
		//*
		var conv_material = Physijs.createMaterial(new THREE.MeshLambertMaterial({ opacity: 1, transparent: true, wireframe: cs_wireframe }),
			ConveyorFriction,      // friction
			ConveyorRestitution    // restitution
		);
		//*/

		//	rail
		//		material
		//  var rail_material ;
		//		material Normal
		//  rail_material = new THREE.MeshNormalMaterial();

		//		material Lambert
		//*
		var rail_material = Physijs.createMaterial(new THREE.MeshLambertMaterial({ opacity: 1, transparent: true }),
			ConveyorFriction,      // friction
			ConveyorRestitution    // restitution
		);
		//*/

		//	construction box
		/*
		var constr_box_1 = new Physijs.BoxMesh( 
							new THREE.CubeGeometry( 1.0, 1.0, 1.0 ),
							new THREE.MeshNormalMaterial(),
							0        // mass                         
		);	
				
		var constr_box_2 = new Physijs.BoxMesh( 
							new THREE.CubeGeometry( 1.0, 1.0, 1.0 ),
							new THREE.MeshNormalMaterial(),
							0        // mass                         
		);	
				
		var constr_box_3 = new Physijs.BoxMesh( 
							new THREE.CubeGeometry( 1.0, 1.0, 1.0 ),
							new THREE.MeshNormalMaterial(),
							0        // mass                         
		);	
				
		var constr_box_4 = new Physijs.BoxMesh( 
							new THREE.CubeGeometry( 1.0, 1.0, 1.0 ),
							new THREE.MeshNormalMaterial(),
							0        // mass                         
		);	

		constr_box_1.position.set( -20.0, 10.0, -20.0);
		constr_box_2.position.set( +20.0, 10.0, -20.0);
		constr_box_3.position.set( +20.0, 10.0, +20.0);
		constr_box_4.position.set( -20.0, 10.0, +20.0);
		
		scene.add( constr_box_1 );
		scene.add( constr_box_2 );
		scene.add( constr_box_3 );
		scene.add( constr_box_4 );
		//*/

		//		conveyor_1		straight //				
		var conv1_material = Physijs.createMaterial(new THREE.MeshLambertMaterial({ opacity: 0.1, transparent: true, wireframe: cs_wireframe }),
			CornerSlipperyInvers,   // friction
			ConveyorRestitution    // restitution
		);
		var conv1 = new Physijs.BoxMesh(
			new THREE.CubeGeometry(36.0, ConveyorHeight, 6.0), //27.8
			conv1_material,
			0        // mass                         
		);
		conv1_material.color.setRGB(Math.random() * 100 / 100, Math.random() * 100 / 100, Math.random() * 100 / 100);
		conv1._physijs.collision_flags = 1; // collision_flags 1 is CF_STATIC_OBJECT
		conv1.receiveShadow = true;
		conv1.castShadow = true;
		conv1.position.set(-0.0, 1.5, -20.0);

		//		guard rail 1R
		var rail_1R_material = Physijs.createMaterial(new THREE.MeshLambertMaterial({ opacity: 0.1, transparent: true, wireframe: cs_wireframe }),
			.0,   // friction
			.9    // restitution
		);
		var rail_1R = new Physijs.BoxMesh(
			new THREE.CubeGeometry(32.0, RailHeight, 1.0),
			rail_1R_material,
			0.0 // mass                  
		);
		rail_1R_material.color.setRGB(Math.random() * 100 / 100, Math.random() * 100 / 100, Math.random() * 100 / 100);
		rail_1R._physijs.collision_flags = 1; // collision_flags 1 is CF_STATIC_OBJECT
		rail_1R.receiveShadow = true;
		rail_1R.castShadow = true;
		rail_1R.position.set(-0.0, 1.5, -20.0 + 3.5);

		//		guard rail 1L
		var rail_1L_material = Physijs.createMaterial(new THREE.MeshLambertMaterial({ opacity: 0.1, transparent: true, wireframe: cs_wireframe }),
			.0,   // friction
			.9    // restitution
		);
		var rail_1L = new Physijs.BoxMesh(
			new THREE.CubeGeometry(32.0, RailHeight, 1.0),
			rail_1L_material,
			0.0 // mass                  
		);
		rail_1L_material.color.setRGB(Math.random() * 100 / 100, Math.random() * 100 / 100, Math.random() * 100 / 100);
		rail_1L._physijs.collision_flags = 1; // collision_flags 1 is CF_STATIC_OBJECT
		rail_1L.receiveShadow = true;
		rail_1L.castShadow = true;
		rail_1L.position.set(-0.0, 1.5, -20.0 - 3.5);

		//		conveyor_2		corner //
		var conv2_material = Physijs.createMaterial(new THREE.MeshLambertMaterial({ opacity: 0.25, transparent: true, wireframe: cs_wireframe }),
			CornerSlipperyInvers,   // friction
			ConveyorRestitution    // restitution
		);
		var conv2 = new Physijs.BoxMesh(
			new THREE.CubeGeometry(8.0, ConveyorHeight, 8.0),
			conv2_material,
			0.0 // mass              
		);
		conv2_material.color.setRGB(Math.random() * 100 / 100, Math.random() * 100 / 100, Math.random() * 100 / 100);
		conv2._physijs.collision_flags = 1; // collision_flags 1 is CF_STATIC_OBJECT
		conv2.receiveShadow = true;
		conv2.castShadow = true;
		conv2.position.set(20.0, 1.5, -20.0);

		//		guard rail 2R
		var rail_2R_material = Physijs.createMaterial(new THREE.MeshLambertMaterial({ opacity: 0.25, transparent: true, wireframe: cs_wireframe }),
			.0,   // friction
			.9    // restitution
		);
		var rail_2R = new Physijs.BoxMesh(
			new THREE.CubeGeometry(8.0, RailHeight, 1.0),
			rail_2R_material,
			0.0 // mass                  
		);
		rail_2R_material.color.setRGB(Math.random() * 100 / 100, Math.random() * 100 / 100, Math.random() * 100 / 100);
		rail_2R._physijs.collision_flags = 1; // collision_flags 1 is CF_STATIC_OBJECT
		rail_2R.receiveShadow = true;
		rail_2R.castShadow = true;
		rail_2R.position.set(20.0, 1.5, -20.0 - 4.5);

		//		guard rail 2L
		var rail_2L_material = Physijs.createMaterial(new THREE.MeshLambertMaterial({ opacity: 0.25, transparent: true, wireframe: cs_wireframe }),
			.0,   // friction
			.9    // restitution
		);
		var rail_2L = new Physijs.BoxMesh(
			new THREE.CubeGeometry(1.0, RailHeight, 8.0),
			rail_2L_material,
			0.0 // mass                  
		);
		rail_2L_material.color.setRGB(Math.random() * 100 / 100, Math.random() * 100 / 100, Math.random() * 100 / 100);
		rail_2L._physijs.collision_flags = 1; // collision_flags 1 is CF_STATIC_OBJECT
		rail_2L.receiveShadow = true;
		rail_2L.castShadow = true;
		rail_2L.position.set(20.0 + 4.5, 1.5, -20.0);

		//		conveyor_3		straight  //
		var conv3_material = Physijs.createMaterial(new THREE.MeshLambertMaterial({ opacity: 0.2, transparent: true }),
			ConveyorFriction,   // friction
			ConveyorRestitution    // restitution
		);
		var conv3 = new Physijs.BoxMesh(
			new THREE.CubeGeometry(6, ConveyorHeight, 36.0), //25.8
			conv3_material,
			0.0 // mass                
		);
		conv3_material.color.setRGB(Math.random() * 100 / 100, Math.random() * 100 / 100, Math.random() * 100 / 100);
		conv3._physijs.collision_flags = 1; // collision_flags 1 is CF_STATIC_OBJECT
		conv3.receiveShadow = true;
		conv3.castShadow = true;
		conv3.position.set(20.0, 1.5, 0.0);

		//		guard rail 3R
		var rail_3R_material = Physijs.createMaterial(new THREE.MeshLambertMaterial({ opacity: 0.25, transparent: true }),
			.0,   // friction
			.9    // restitution
		);
		var rail_3R = new Physijs.BoxMesh(
			new THREE.CubeGeometry(1.0, RailHeight, 32.0),
			rail_3R_material,
			0.0 // mass                  
		);
		rail_3R_material.color.setRGB(Math.random() * 100 / 100, Math.random() * 100 / 100, Math.random() * 100 / 100);
		rail_3R._physijs.collision_flags = 1; // collision_flags 1 is CF_STATIC_OBJECT
		rail_3R.receiveShadow = true;
		rail_3R.castShadow = true;
		rail_3R.position.set(20.0 - 3.5, 1.5, 0.0);

		//		guard rail 3L
		var rail_3L_material = Physijs.createMaterial(new THREE.MeshLambertMaterial({ opacity: 0.25, transparent: true }),
			.0,   // friction
			.9    // restitution
		);
		var rail_3L = new Physijs.BoxMesh(
			new THREE.CubeGeometry(1.0, RailHeight, 32.0),
			rail_3L_material,
			0.0 // mass                  
		);
		rail_3L_material.color.setRGB(Math.random() * 100 / 100, Math.random() * 100 / 100, Math.random() * 100 / 100);
		rail_3L._physijs.collision_flags = 1; // collision_flags 1 is CF_STATIC_OBJECT
		rail_3L.receiveShadow = true;
		rail_3L.castShadow = true;
		rail_3L.position.set(20.0 + 3.5, 1.5, 0.0);

		//		conveyor_4		corner //
		var conv4_material = Physijs.createMaterial(new THREE.MeshLambertMaterial({ opacity: 0.5, transparent: true }),
			CornerSlipperyInvers,   // friction
			ConveyorRestitution    // restitution
		);
		var conv4 = new Physijs.BoxMesh(
			new THREE.CubeGeometry(8, ConveyorHeight, 8),
			conv4_material,
			0.0 // mass                 
		);
		conv4_material.color.setRGB(Math.random() * 100 / 100, Math.random() * 100 / 100, Math.random() * 100 / 100);
		conv4._physijs.collision_flags = 1; // collision_flags 1 is CF_STATIC_OBJECT
		conv4.receiveShadow = true;
		conv4.castShadow = true;
		conv4.position.set(20.0, 1.5, 20.0);

		//		guard rail 4R
		var rail_4R_material = Physijs.createMaterial(new THREE.MeshLambertMaterial({ opacity: 0.5, transparent: true }),
			.0,   // friction
			.9    // restitution
		);
		var rail_4R = new Physijs.BoxMesh(
			new THREE.CubeGeometry(8.0, RailHeight, 1.0),
			rail_4R_material,
			0.0 // mass                  
		);
		rail_4R_material.color.setRGB(Math.random() * 100 / 100, Math.random() * 100 / 100, Math.random() * 100 / 100);
		rail_4R._physijs.collision_flags = 1; // collision_flags 1 is CF_STATIC_OBJECT
		rail_4R.receiveShadow = true;
		rail_4R.castShadow = true;
		rail_4R.position.set(20.0, 1.5, 20.0 + 4.5);

		//		guard rail 4L
		var rail_4L_material = Physijs.createMaterial(new THREE.MeshLambertMaterial({ opacity: 0.5, transparent: true }),
			.0,   // friction
			.9    // restitution
		);
		var rail_4L = new Physijs.BoxMesh(
			new THREE.CubeGeometry(1.0, RailHeight, 8.0),
			rail_4L_material,
			0.0 // mass                  
		);
		rail_4L_material.color.setRGB(Math.random() * 100 / 100, Math.random() * 100 / 100, Math.random() * 100 / 100);
		rail_4L._physijs.collision_flags = 1; // collision_flags 1 is CF_STATIC_OBJECT
		rail_4L.receiveShadow = true;
		rail_4L.castShadow = true;
		rail_4L.position.set(20.0 + 4.5, 1.5, 20.0);

		//		conveyor_5		straight //
		var conv5_material = Physijs.createMaterial(new THREE.MeshLambertMaterial({ opacity: 1, transparent: true }),
			ConveyorFriction,   // friction
			.0    // restitution
		);
		var conv5 = new Physijs.BoxMesh(
			new THREE.CubeGeometry(33.0, ConveyorHeight, 6),
			conv5_material,
			0.0 // mass                  
		);
		conv5_material.color.setRGB(Math.random() * 100 / 100, Math.random() * 100 / 100, Math.random() * 100 / 100);
		conv5._physijs.collision_flags = 1; // collision_flags 1 is CF_STATIC_OBJECT
		conv5.receiveShadow = true;
		conv5.castShadow = true;
		conv5.rotation.set(0.0, 0.0, -0.2);
		conv5.position.set(0, 4.5, 20.0);

		//		guard rail 5R
		var rail_5R_material = Physijs.createMaterial(new THREE.MeshLambertMaterial({ opacity: 1, transparent: true }),
			.0,   // friction
			.9    // restitution
		);
		var rail_5R = new Physijs.BoxMesh(
			new THREE.CubeGeometry(32.0, RailHeight, 1.0),
			rail_5R_material,
			0.0 // mass                  
		);
		rail_5R_material.color.setRGB(Math.random() * 100 / 100, Math.random() * 100 / 100, Math.random() * 100 / 100);
		rail_5R._physijs.collision_flags = 1; // collision_flags 1 is CF_STATIC_OBJECT
		rail_5R.receiveShadow = true;
		rail_5R.castShadow = true;
		rail_5R.rotation.set(0.0, 0.0, -0.2);
		rail_5R.position.set(0, 4.5, 20.0 - 3.5);

		//		guard rail 5L
		var rail_5L_material = Physijs.createMaterial(new THREE.MeshLambertMaterial({ opacity: 1, transparent: true }),
			.0,   // friction
			.9    // restitution
		);
		var rail_5L = new Physijs.BoxMesh(
			new THREE.CubeGeometry(32.0, RailHeight, 1.0),
			rail_5L_material,
			0.0 // mass                  
		);
		rail_5L_material.color.setRGB(Math.random() * 100 / 100, Math.random() * 100 / 100, Math.random() * 100 / 100);
		rail_5L._physijs.collision_flags = 1; // collision_flags 1 is CF_STATIC_OBJECT
		rail_5L.receiveShadow = true;
		rail_5L.castShadow = true;
		rail_5L.rotation.set(0.0, 0.0, -0.2);
		rail_5L.position.set(0.0, 4.5, 20.0 + 3.5);

		//		conveyor_6		corner //
		var conv6_material = Physijs.createMaterial(new THREE.MeshLambertMaterial({ opacity: 1, transparent: true }),
			CornerSlipperyInvers,   // friction
			ConveyorRestitution     // restitution
		);
		var conv6 = new Physijs.BoxMesh(
			new THREE.CubeGeometry(8, ConveyorHeight, 8),
			conv6_material,
			0.0 // mass             
		);
		conv6_material.color.setRGB(Math.random() * 100 / 100, Math.random() * 100 / 100, Math.random() * 100 / 100);
		conv6._physijs.collision_flags = 1; // collision_flags 1 is CF_STATIC_OBJECT
		conv6.receiveShadow = true;
		conv6.castShadow = true;
		conv6.position.set(-20.0, 7.5, 20.0);

		//		guard rail 6R
		var rail_6R_material = Physijs.createMaterial(new THREE.MeshLambertMaterial({ opacity: 1, transparent: true }),
			.0,   // friction
			.9    // restitution
		);
		var rail_6R = new Physijs.BoxMesh(
			new THREE.CubeGeometry(8.0, RailHeight, 1.0),
			rail_6R_material,
			0.0 // mass                  
		);
		rail_6R_material.color.setRGB(Math.random() * 100 / 100, Math.random() * 100 / 100, Math.random() * 100 / 100);
		rail_6R._physijs.collision_flags = 1; // collision_flags 1 is CF_STATIC_OBJECT
		rail_6R.receiveShadow = true;
		rail_6R.castShadow = true;
		rail_6R.position.set(-20.0, 7.5, 20.0 + 4.5);

		//		guard rail 6L
		var rail_6L_material = Physijs.createMaterial(new THREE.MeshLambertMaterial({ opacity: 1, transparent: true }),
			.0,   // friction
			.9    // restitution
		);
		var rail_6L = new Physijs.BoxMesh(
			new THREE.CubeGeometry(1.0, RailHeight, 8.0),
			rail_6L_material,
			0.0 // mass                  
		);
		rail_6L_material.color.setRGB(Math.random() * 100 / 100, Math.random() * 100 / 100, Math.random() * 100 / 100);
		rail_6L._physijs.collision_flags = 1; // collision_flags 1 is CF_STATIC_OBJECT
		rail_6L.receiveShadow = true;
		rail_6L.castShadow = true;
		rail_6L.position.set(-20.0 - 4.5, 7.5, 20.0);

		//		conveyor_7		straight //		
		var conv7_material = Physijs.createMaterial(new THREE.MeshLambertMaterial({ map: THREE.ImageUtils.loadTexture('images/metal_rusty_4_cs.jpg'), ambient: 0xFFFFFF }),
			.5, // friction
			.0 //  restitution
		);
		conv7_material.map.wrapS = conv7_material.map.wrapT = THREE.RepeatWrapping;
		conv7_material.map.repeat.set(1.0, 1.0);
		var conv7 = new Physijs.BoxMesh(
			new THREE.CubeGeometry(6, ConveyorHeight, 33.0),
			conv7_material,
			0.0 // mass                 
		);
		conv7_material.color.setRGB(0.5, 0.5, 0.5);
		conv7.receiveShadow = true;
		conv7.castShadow = true;
		conv7.rotation.set(0.2, 0.0, 0.0);
		conv7.position.set(-20.0, 10.5, 0.0);

		//		guard rail 7R
		var rail_7R_material = Physijs.createMaterial(new THREE.MeshLambertMaterial({ map: THREE.ImageUtils.loadTexture('images/riffel_norm.jpg'), ambient: 0xFFFFFF, shading: THREE.FlatShading }),
			.5, // friction
			.0 //  restitution
		);
		rail_7R_material.map.wrapS = rail_7R_material.map.wrapT = THREE.RepeatWrapping;
		rail_7R_material.map.repeat.set(1.0, 1.0);
		var rail_7R = new Physijs.BoxMesh(
			new THREE.CubeGeometry(1.0, RailHeight, 32.0),
			rail_7R_material,
			0.0 // mass                  
		);
		//rail_7R_material.color.setRGB( Math.random() * 100 / 100, Math.random() * 100 / 100, Math.random() * 100 / 100 );
		rail_7R.receiveShadow = true;
		rail_7R.castShadow = true;
		rail_7R.rotation.set(0.2, 0.0, 0.0);
		rail_7R.position.set(-20.0 + 3.5, 10.5, 0.0);

		//		guard rail 7L
		var rail_7L_material = Physijs.createMaterial(new THREE.MeshLambertMaterial({ map: THREE.ImageUtils.loadTexture('images/riffel_norm.jpg'), ambient: 0xFFFFFF }),
			.5, // friction
			.0 //  restitution
		);
		rail_7L_material.map.wrapS = rail_7L_material.map.wrapT = THREE.RepeatWrapping;
		rail_7L_material.map.repeat.set(1.0, 1.0);
		var rail_7L = new Physijs.BoxMesh(
			new THREE.CubeGeometry(1.0, RailHeight, 32.0),
			rail_7L_material,
			0.0 // mass                  
		);
		//rail_7L_material.color.setRGB( Math.random() * 100 / 100, Math.random() * 100 / 100, Math.random() * 100 / 100 );
		rail_7L.receiveShadow = true;
		rail_7L.castShadow = true;
		rail_7L.rotation.set(0.2, 0.0, 0.0);
		rail_7L.position.set(-20.0 - 3.5, 10.5, 0.0);

		//		conveyor_8		corner //		
		var conv8_material = Physijs.createMaterial(new THREE.MeshLambertMaterial({ opacity: 1, transparent: true }),
			CornerSlipperyInvers,   // friction
			ConveyorRestitution    // restitution
		);
		var conv8 = new Physijs.BoxMesh(
			new THREE.CubeGeometry(8, ConveyorHeight, 8),
			conv8_material,
			0.0 // mass               
		);
		conv8_material.color.setRGB(Math.random() * 100 / 100, Math.random() * 100 / 100, Math.random() * 100 / 100);
		conv8._physijs.collision_flags = 1; // collision_flags 1 is CF_STATIC_OBJECT
		conv8.receiveShadow = true;
		conv8.castShadow = true;
		conv8.position.set(-20.0, 1.5, -20.0);

		//		guard rail 8R
		var rail_8R_material = Physijs.createMaterial(new THREE.MeshLambertMaterial({ opacity: 1, transparent: true }),
			.5, // friction
			.0 //  restitution
		);
		var rail_8R = new Physijs.BoxMesh(
			new THREE.CubeGeometry(8.0, RailHeight + 8.0, 1.0),
			rail_8R_material,
			0.0 // mass                  
		);
		rail_8R_material.color.setRGB(Math.random() * 100 / 100, Math.random() * 100 / 100, Math.random() * 100 / 100);
		rail_8R._physijs.collision_flags = 1; // collision_flags 1 is CF_STATIC_OBJECT
		rail_8R.receiveShadow = true;
		rail_8R.castShadow = true;
		rail_8R.position.set(-20.0, 6.0, -20.0 - 4.5);

		//		guard rail 8L
		var rail_8L_material = Physijs.createMaterial(new THREE.MeshLambertMaterial({ opacity: 1, transparent: true }),
			.0,   // friction
			.9    // restitution
		);
		var rail_8L = new Physijs.BoxMesh(
			new THREE.CubeGeometry(1.0, RailHeight + 4, 8.0),
			rail_8L_material,
			0.0 // mass                  
		);
		rail_8L_material.color.setRGB(Math.random() * 100 / 100, Math.random() * 100 / 100, Math.random() * 100 / 100);
		rail_8L._physijs.collision_flags = 1; // collision_flags 1 is CF_STATIC_OBJECT
		rail_8L.receiveShadow = true;
		rail_8L.castShadow = true;
		rail_8L.position.set(-20.0 - 4.5, 2.5, -20.0);

		//		guard rail 8C
		var rail_8C_material = Physijs.createMaterial(new THREE.MeshLambertMaterial({ opacity: 1, transparent: true }),
			.0,   // friction
			.9    // restitution
		);
		var rail_8C = new Physijs.BoxMesh(
			new THREE.CubeGeometry(8.0, RailHeight + 2, 1.0),
			rail_8C_material,
			0.0 // mass                  
		);
		rail_8C_material.color.setRGB(Math.random() * 100 / 100, Math.random() * 100 / 100, Math.random() * 100 / 100);
		rail_8C._physijs.collision_flags = 1; // collision_flags 1 is CF_STATIC_OBJECT
		rail_8C.receiveShadow = true;
		rail_8C.castShadow = true;
		rail_8C.position.set(-20.0, 2.5, -20.0 + 3.5);

		//*/

		// ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++			
		scene.add(conv1);
		conv1.setLinearVelocity(new THREE.Vector3(LineSpeed, 0, 0));
		scene.add(rail_1R);
		scene.add(rail_1L);
		// ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++			
		//*			
		var conv1_photocell_E;
		conv1_photocell_E = new Physijs.BoxMesh(
			new THREE.CubeGeometry(0.1, 0.3, 6),
			new THREE.MeshNormalMaterial(),
			0.0 // mass 
		);
		conv1_photocell_E._physijs.collision_flags = 1 | 4; // collision_flags 1 is CF_STATIC_OBJECT 4 is CF_NO_CONTACT_RESPONSE
		conv1_photocell_E.position.set(13.0, 1.5 + ConveyorHeight / 2.0 + 0.3, -20.0);
		scene.add(conv1_photocell_E);
		conv1_photocell_E.addEventListener('collision', function (object) {
			// console.log( "PE_1 ", this.id );
			// console.log( "PE_1 ", object.id );
			// console.log( "PE_1 ", conv1_photocell_E_occ );				
		});

		var conv2_photocell_E_material = Physijs.createMaterial(new THREE.MeshLambertMaterial({ opacity: 1, transparent: true }))
		var conv2_photocell_E;
		conv2_photocell_E = new Physijs.BoxMesh(
			new THREE.CubeGeometry(0.1, 0.3, 7),
			conv2_photocell_E_material,
			0.0 // mass 
		);
		conv2_photocell_E._physijs.collision_flags = 1 | 4; // collision_flags 1 is CF_STATIC_OBJECT 4 is CF_NO_CONTACT_RESPONSE
		conv2_photocell_E_material.color.setRGB(0, 0, 1);
		conv2_photocell_E.position.set(20.0, 1.5 + ConveyorHeight / 2.0 + 0.3, -20.0);
		scene.add(conv2_photocell_E);
		conv2_photocell_E.addEventListener('collision', function (object) {
			// console.log( "PE_2 ", this.id );
			// console.log( "PE_2 ", object.id );
			// console.log( "PE_2 ", conv1_photocell_E_occ );				
		});
		// ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++		 
		scene.add(conv2);
		conv2.setLinearVelocity(new THREE.Vector3(-LineSpeed * CornerBrakeIntensity, 0.0, LineSpeed));
		scene.add(rail_2R);
		scene.add(rail_2L);

		scene.add(conv3);
		conv3.setLinearVelocity(new THREE.Vector3(0, 0, LineSpeed));
		scene.add(rail_3R);
		scene.add(rail_3L);

		scene.add(conv4);
		conv4.setLinearVelocity(new THREE.Vector3(-LineSpeed, 0.0, -LineSpeed * CornerBrakeIntensity));
		scene.add(rail_4R);
		scene.add(rail_4L);

		scene.add(conv5);
		conv5.setLinearVelocity(new THREE.Vector3(-LineSpeed, 0, 0));
		scene.add(rail_5R);
		scene.add(rail_5L);

		scene.add(conv6);
		conv6.setLinearVelocity(new THREE.Vector3(LineSpeed * CornerBrakeIntensity, 0.0, -LineSpeed));
		scene.add(rail_6R);
		scene.add(rail_6L);

		scene.add(conv7);
		conv7.setLinearVelocity(new THREE.Vector3(0.0, 0.0, -LineSpeed));
		scene.add(rail_7R);
		scene.add(rail_7L);

		scene.add(conv8);
		conv8.setLinearVelocity(new THREE.Vector3(LineSpeed, 0.0, LineSpeed * CornerBrakeIntensity));
		scene.add(rail_8R);
		scene.add(rail_8L);
		scene.add(rail_8C);

		//		kiste_n		//
		var kiste1_material = Physijs.createMaterial(
			new THREE.MeshLambertMaterial(),
			.5, // friction
			.0  // restitution
		);
		var kiste_1;
		kiste_1 = new Physijs.BoxMesh(
			new THREE.CubeGeometry(4, 3, 2),
			//new THREE.MeshNormalMaterial()
			kiste1_material,
			1.0 // mass  
		);
		kiste1_material.color.setRGB(Math.random() * 100 / 100, Math.random() * 100 / 100, Math.random() * 100 / 100);
		kiste_1.receiveShadow = true;
		kiste_1.castShadow = true;
		kiste_1.position.set(-9.0, 8.5, -20.0);
		scene.add(kiste_1);

		var kiste2_material = Physijs.createMaterial(
			new THREE.MeshLambertMaterial(),
			.5, // friction
			.0  // restitution
		);
		var kiste_2;
		kiste_2 = new Physijs.BoxMesh(
			new THREE.CubeGeometry(1.5, 1, 1.5),
			//new THREE.MeshNormalMaterial()
			kiste2_material,
			1.0 // mass 
		);
		kiste2_material.color.setRGB(Math.random() * 100 / 100, Math.random() * 100 / 100, Math.random() * 100 / 100);
		kiste_2.receiveShadow = true;
		kiste_2.castShadow = true;
		kiste_2.position.set(-4.0, 8.5, -20.0);
		scene.add(kiste_2);

		var kiste2a_material = Physijs.createMaterial(
			new THREE.MeshLambertMaterial(),
			.5, // friction
			.0  // restitution
		);
		var kiste_2a;
		kiste_2a = new Physijs.BoxMesh(
			new THREE.CubeGeometry(1.5, 1, 1.5),
			//new THREE.MeshNormalMaterial()
			kiste2a_material,
			1.0 // mass 
		);
		kiste2a_material.color.setRGB(Math.random() * 100 / 100, Math.random() * 100 / 100, Math.random() * 100 / 100);
		kiste_2a.receiveShadow = true;
		kiste_2a.castShadow = true;
		kiste_2a.position.set(-2.0, 8.5, -20.0);
		scene.add(kiste_2a);

		var kiste2b_material = Physijs.createMaterial(
			new THREE.MeshLambertMaterial(),
			.5, // friction
			.0  // restitution
		);
		var kiste_2b;
		kiste_2b = new Physijs.BoxMesh(
			new THREE.CubeGeometry(1.5, 1, 1.5),
			//new THREE.MeshNormalMaterial()
			kiste2b_material,
			1.0 // mass 
		);
		kiste2b_material.color.setRGB(Math.random() * 100 / 100, Math.random() * 100 / 100, Math.random() * 100 / 100);
		kiste_2b.receiveShadow = true;
		kiste_2b.castShadow = true;
		kiste_2b.position.set(0.0, 8.5, -20.0);
		scene.add(kiste_2b);

		var kiste2c_material = Physijs.createMaterial(
			new THREE.MeshLambertMaterial(),
			.5, // friction
			.0  // restitution
		);
		var kiste_2c;
		kiste_2c = new Physijs.BoxMesh(
			new THREE.CubeGeometry(1.5, 1, 1.5),
			//new THREE.MeshNormalMaterial()
			kiste2c_material,
			1.0 // mass 
		);
		kiste2c_material.color.setRGB(Math.random() * 100 / 100, Math.random() * 100 / 100, Math.random() * 100 / 100);
		kiste_2c.receiveShadow = true;
		kiste_2c.castShadow = true;
		kiste_2c.position.set(2.0, 8.5, -20.0);
		scene.add(kiste_2c);

		var kiste2d_material = Physijs.createMaterial(
			new THREE.MeshLambertMaterial(),
			.5, // friction
			.0  // restitution
		);
		var kiste_2d;
		kiste_2d = new Physijs.BoxMesh(
			new THREE.CubeGeometry(1, 1, 1),
			//new THREE.MeshNormalMaterial()
			kiste2d_material,
			1.0 // mass 
		);
		kiste2d_material.color.setRGB(Math.random() * 100 / 100, Math.random() * 100 / 100, Math.random() * 100 / 100);
		kiste_2d.receiveShadow = true;
		kiste_2d.castShadow = true;
		kiste_2d.position.set(4.0, 8.5, -20.0);
		scene.add(kiste_2d);

		var kiste2e_material = Physijs.createMaterial(
			new THREE.MeshLambertMaterial(),
			.5, // friction
			.0  // restitution
		);
		var kiste_2e;
		kiste_2e = new Physijs.BoxMesh(
			new THREE.CubeGeometry(1, 1, 1),
			//new THREE.MeshNormalMaterial()
			kiste2e_material,
			1.0 // mass 
		);
		kiste2e_material.color.setRGB(Math.random() * 100 / 100, Math.random() * 100 / 100, Math.random() * 100 / 100);
		kiste_2e.receiveShadow = true;
		kiste_2e.castShadow = true;
		kiste_2e.position.set(6.0, 8.5, -20.0);
		scene.add(kiste_2e);

		var kiste2f_material = Physijs.createMaterial(
			new THREE.MeshLambertMaterial(),
			.5, // friction
			.0  // restitution
		);
		var kiste_2f;
		kiste_2f = new Physijs.BoxMesh(
			new THREE.CubeGeometry(1, 1, 1),
			kiste2f_material,
			1.0 // mass 
		);
		kiste2f_material.color.setRGB(Math.random() * 100 / 100, Math.random() * 100 / 100, Math.random() * 100 / 100);
		kiste_2f.receiveShadow = true;
		kiste_2f.castShadow = true;
		kiste_2f.position.set(8.0, 8.5, -20.0);
		scene.add(kiste_2f);

		var kiste2g_material = Physijs.createMaterial(
			new THREE.MeshLambertMaterial(),
			.5, // friction
			.0  // restitution
		);
		var kiste_2g;
		kiste_2g = new Physijs.BoxMesh(
			new THREE.SphereGeometry(1, 16, 16),
			kiste2g_material,
			1.0 // mass 
		);
		kiste2g_material.color.setRGB(Math.random() * 100 / 100, Math.random() * 100 / 100, Math.random() * 100 / 100);
		kiste_2g.receiveShadow = true;
		kiste_2g.castShadow = true;
		kiste_2g.position.set(10.0, 8.5, -20.0);
		scene.add(kiste_2g);

		var block_3_material;
		block_3_material = Physijs.createMaterial(
			new THREE.MeshLambertMaterial({ map: THREE.ImageUtils.loadTexture('images/wood.jpg'), ambient: 0xFFFFFF }),
			.5, // friction
			.0 //  restitution
		);
		block_3_material.map.wrapS = block_3_material.map.wrapT = THREE.RepeatWrapping;
		block_3_material.map.repeat.set(1.0, 1.0);
		var kiste_3;
		kiste_3 = new Physijs.BoxMesh(
			new THREE.CubeGeometry(1.0, 1.0, 6.0),
			// new THREE.MeshNormalMaterial()
			block_3_material,
			1.0 // mass 
		);
		kiste_3.position.set(20.0, 8.5, -8.0);
		kiste_3.receiveShadow = true;
		kiste_3.castShadow = true;
		scene.add(kiste_3);

		var block_4_material;
		block_4_material = Physijs.createMaterial(
			new THREE.MeshLambertMaterial({ map: THREE.ImageUtils.loadTexture('images/crate.jpg'), ambient: 0xFFFFFF }),
			.5, // friction
			.0 //  restitution
		);
		block_4_material.map.wrapS = block_4_material.map.wrapT = THREE.RepeatWrapping;
		block_4_material.map.repeat.set(1.0, 1.0);
		var kiste_4;
		kiste_4 = new Physijs.BoxMesh(
			new THREE.CubeGeometry(3.0, 3.0, 3.0),
			block_4_material,
			1.0 // mass 
		);
		kiste_4.position.set(20., 8.5, 0.0);
		kiste_4.receiveShadow = true;
		kiste_4.castShadow = true;
		scene.add(kiste_4);

		var kiste5_material = Physijs.createMaterial(
			new THREE.MeshLambertMaterial(),
			.5, // friction
			.0  // restitution
		);
		var kiste_5;
		kiste_5 = new Physijs.BoxMesh(
			new THREE.CubeGeometry(1.5, 1, 1.5),
			// new THREE.MeshNormalMaterial()
			kiste5_material,
			1.0 // mass 
		);
		kiste5_material.color.setRGB(Math.random() * 100 / 100, Math.random() * 100 / 100, Math.random() * 100 / 100);
		kiste_5.position.set(20.0, 8.5, 8.0);
		kiste_5.receiveShadow = true;
		kiste_5.castShadow = true;
		scene.add(kiste_5);

		// kiste_6
		var block_6_material;
		block_6_material = Physijs.createMaterial(
			new THREE.MeshLambertMaterial({ map: THREE.ImageUtils.loadTexture('images/blue.jpg'), ambient: 0xFFFFFF }),
			.5, // friction
			.0 //  restitution
		);
		block_6_material.map.wrapS = block_6_material.map.wrapT = THREE.RepeatWrapping;
		block_6_material.map.repeat.set(1, .5);
		var kiste_6;
		kiste_6 = new Physijs.BoxMesh(
			new THREE.CubeGeometry(3.5, 3.5, 4),
			block_6_material,
			1.0 // mass 
		);
		kiste_6.position.set(10, 8.5, 20.0);
		kiste_6.receiveShadow = true;
		kiste_6.castShadow = true;
		scene.add(kiste_6);

		// kiste_7
		var block_7_material;
		block_7_material = Physijs.createMaterial(
			new THREE.MeshLambertMaterial({ map: THREE.ImageUtils.loadTexture('images/box_plywood_421.jpg'), ambient: 0xFFFFFF }),
			.5, // friction
			.0 //  restitution
		);
		block_7_material.map.wrapS = block_7_material.map.wrapT = THREE.RepeatWrapping;
		block_7_material.map.repeat.set(1, .5);
		var kiste_7;
		kiste_7 = new Physijs.BoxMesh(
			new THREE.CubeGeometry(3.0, 2.5, 2.0),
			// new THREE.MeshNormalMaterial()
			block_7_material,
			1.0 // mass 
		);
		kiste_7.position.set(-20.0, 8.5, 10.0);
		kiste_7.receiveShadow = true;
		kiste_7.castShadow = true;
		scene.add(kiste_7);

		// kiste_8
		var block_8_material;
		block_8_material = Physijs.createMaterial(
			new THREE.MeshLambertMaterial({ map: THREE.ImageUtils.loadTexture('images/wood_TE_Paket.jpg'), ambient: 0xFFFFFF }),
			.5, // friction
			.0 //  restitution
		);
		block_8_material.map.wrapS = block_8_material.map.wrapT = THREE.RepeatWrapping;
		block_8_material.map.repeat.set(1, .5);
		var kiste_8;
		kiste_8 = new Physijs.BoxMesh(
			new THREE.CubeGeometry(2.5, 1.5, 2.5),
			block_8_material,
			1 // mass 
		);
		kiste_8.position.set(-20.0, 18.5, -8.0);
		kiste_8.receiveShadow = true;
		kiste_8.castShadow = true;
		scene.add(kiste_8);

		// kiste_9
		var block_9_material;
		block_9_material = Physijs.createMaterial(
			new THREE.MeshLambertMaterial({ map: THREE.ImageUtils.loadTexture('images/box_plywood_422.jpg'), ambient: 0xFFFFFF }),
			.5, // friction
			.0 //  restitution
		);
		block_9_material.map.wrapS = block_9_material.map.wrapT = THREE.RepeatWrapping;
		block_9_material.map.repeat.set(1, .5);
		var kiste_9;
		kiste_9 = new Physijs.BoxMesh(
			new THREE.CubeGeometry(3.0, 2.5, 2.0),
			// new THREE.MeshNormalMaterial()
			block_9_material,
			1.0 // mass 
		);
		kiste_9.position.set(-20.0, 48.5, 20.0);
		kiste_9.receiveShadow = true;
		kiste_9.castShadow = true;
		scene.add(kiste_9);

		// kiste_10
		var block_10_material;
		block_10_material = Physijs.createMaterial(
			new THREE.MeshLambertMaterial({ map: THREE.ImageUtils.loadTexture('images/box_plywood_423.jpg'), ambient: 0xFFFFFF }),
			.5, // friction
			.0 //  restitution
		);
		block_10_material.map.wrapS = block_10_material.map.wrapT = THREE.RepeatWrapping;
		block_10_material.map.repeat.set(1, .5);
		var kiste_10;
		kiste_10 = new Physijs.BoxMesh(
			new THREE.CubeGeometry(3.0, 2.5, 2.0),
			block_10_material,
			1.0 // mass 
		);
		kiste_10.position.set(20.0, 68.5, 10.0);
		kiste_10.receiveShadow = true;
		kiste_10.castShadow = true;
		scene.add(kiste_10);

		// kiste_11
		var block_11_material;
		block_11_material = Physijs.createMaterial(
			new THREE.MeshLambertMaterial({ map: THREE.ImageUtils.loadTexture('images/wood.jpg'), ambient: 0xFFFFFF }),
			.5, // friction
			.0 //  restitution
		);
		block_11_material.map.wrapS = block_11_material.map.wrapT = THREE.RepeatWrapping;
		block_11_material.map.repeat.set(1, .5);
		var kiste_11;
		kiste_11 = new Physijs.BoxMesh(
			new THREE.CylinderGeometry(0.8, 0.8, 5.5, 16),
			block_11_material,
			1.0 // mass 
		);
		kiste_11.name = "kiste_11"
		kiste_11.position.set(21.0, 128.5, 0.0);
		kiste_11.receiveShadow = true;
		kiste_11.castShadow = true;
		scene.add(kiste_11);

		// kiste_12
		var block_12_material;
		block_12_material = Physijs.createMaterial(
			new THREE.MeshLambertMaterial({ map: THREE.ImageUtils.loadTexture('images/wood.jpg'), ambient: 0xFFFFFF }),
			.5, // friction
			.0 //  restitution
		);
		block_12_material.map.wrapS = block_12_material.map.wrapT = THREE.RepeatWrapping;
		block_12_material.map.repeat.set(1, 1);
		var kiste_12;
		kiste_12 = new Physijs.BoxMesh(
			new THREE.CylinderGeometry(0.8, 0.8, 5.5, 16),
			block_12_material,
			1 // mass 
		);
		kiste_12.name = "kiste_12"
		kiste_12.position.set(21.0, 178.5, -2.0);
		kiste_12.receiveShadow = true;
		kiste_12.castShadow = true;
		scene.add(kiste_12);

		// kiste_13
		var block_13_material;
		block_13_material = Physijs.createMaterial(
			new THREE.MeshLambertMaterial({ map: THREE.ImageUtils.loadTexture('images/checkerboard.jpg'), ambient: 0xFFFFFF }),
			.5, // friction
			.0 //  restitution
		);
		block_13_material.map.wrapS = block_13_material.map.wrapT = THREE.RepeatWrapping;
		block_13_material.map.repeat.set(3, 1);
		var kiste_13;
		kiste_13 = new Physijs.BoxMesh(
			new THREE.CylinderGeometry(0.8, 0.8, 5.5, 16),
			block_13_material,
			1 // mass 
		);
		kiste_13.name = "kiste_13"
		kiste_13.position.set(20.0, 228.5, -4.0);
		kiste_13.receiveShadow = true;
		kiste_13.castShadow = true;
		scene.add(kiste_13);
		
		// kiste_14
		var block_14_material;
		block_14_material = Physijs.createMaterial(
			new THREE.MeshLambertMaterial({ map: THREE.ImageUtils.loadTexture('images/wood.jpg'), ambient: 0xFFFFFF }),
			.5, // friction
			.0 //  restitution
		);
		block_14_material.map.wrapS = block_14_material.map.wrapT = THREE.RepeatWrapping;
		block_14_material.map.repeat.set(3, 1);
		var kiste_14;
		kiste_14 = new Physijs.BoxMesh(
			new THREE.CylinderGeometry(0.8, 0.8, 5.5, 16),
			block_14_material,
			1 // mass 
		);
		kiste_14.name = "kiste_14"
		kiste_14.position.set(20.0, 278.5, -6.0);
		kiste_14.receiveShadow = true;
		kiste_14.castShadow = true;
		scene.add(kiste_14);

		/* ==============================================================*/
		/* Test für mitfahrende Kamera                                   */
		function updateCamera_1() {
			if (kiste_11) {
				camera.position.copy(kiste_11.position).add(new THREE.Vector3(-6, 4, -6));
				camera.lookAt(kiste_11.position).add(new THREE.Vector3(0, 0, 0));
			}
		}
		/* ==============================================================*/

		function animate() {
			requestAnimationFrame(animate);  	// dieses Vorgehen wurde vorgeschlagen von ( trick by  
			render();               // scene.simulate = run physics und renderer.render( scene, camera );		
			orb_controls.update();	// Orbit mit Maus / Pad / etc.
			//gui_controls.update();  // GUI nicht 		
			stats.update();			// Statistik FPS bzw. ms
			update();				// Steuerungslogik
		}

		animate();  // requestAnimationFrame

		var i = 0.5;
		var j = 0;

		function update() {

			// GUI on change
			//    Gesamtgeschwindigkeit
			if (gui_controls.conveyorSpeed !== Line.Speed_upd) {
				Line.Speed = gui_controls.conveyorSpeed;
				conv1.setLinearVelocity(new THREE.Vector3(Line.Speed, 0, 0));
				conv2.setLinearVelocity(new THREE.Vector3(-Line.Speed * CornerBrakeIntensity, 0, Line.Speed));
				conv3.setLinearVelocity(new THREE.Vector3(0, 0, Line.Speed));
				conv4.setLinearVelocity(new THREE.Vector3(-Line.Speed, 0, -Line.Speed * CornerBrakeIntensity));
				conv5.setLinearVelocity(new THREE.Vector3(-Line.Speed, 0, 0));
				conv6.setLinearVelocity(new THREE.Vector3(Line.Speed * CornerBrakeIntensity, 0, -Line.Speed));
				conv7.setLinearVelocity(new THREE.Vector3(0, 0, -Line.Speed));
				conv8.setLinearVelocity(new THREE.Vector3(Line.Speed, 0, Line.Speed * CornerBrakeIntensity));
				var _v3 = new THREE.Vector3;
				_v3.set(0, 0, 0);
				kiste_1.applyCentralImpulse(_v3);
				kiste_2.applyCentralImpulse(_v3);
				kiste_3.applyCentralImpulse(_v3);
				kiste_4.applyCentralImpulse(_v3);
				kiste_5.applyCentralImpulse(_v3);
				kiste_6.applyCentralImpulse(_v3);
				kiste_7.applyCentralImpulse(_v3);
				kiste_8.applyCentralImpulse(_v3);
				kiste_9.applyCentralImpulse(_v3);
				kiste_10.applyCentralImpulse(_v3);
				kiste_11.applyCentralImpulse(_v3);
				kiste_12.applyCentralImpulse(_v3);
				kiste_13.applyCentralImpulse(_v3);
				kiste_14.applyCentralImpulse(_v3);
				Line.Speed_upd = gui_controls.conveyorSpeed;  // update 
				console.log(gui_controls.conveyorSpeed);
			}


			// j = j + 0.1 ;
			j = j + Line.Speed / 100;
			if (j >= 6) j = 0;
			i = Math.sin(j) / 4;
			conv7_material.color.setRGB(0.75 + i, 0.75 + i, 0.75);
			//console.log (i + " " + j + " " + Math.sin(j) );

			if (conv2_photocell_E_occ) {
				if (conv2_photocell_E._physijs.touches.length > 0) {
					if (conv1_photocell_E._physijs.touches.length > 0) {
						if (conv1_photocell_E_occ === false) {

							conv2_photocell_E_material.color = new THREE.Color(0xff0000);
							Line.Speed = 0.0;

							conv1.setLinearVelocity(new THREE.Vector3(Line.Speed, 0, 0));
							// conv1_material.opacity = 0.5  ;

							conv1_photocell_E_occ = true;
							// console.log( "touches conv_1 STOP" );
						}
					}

				} else {
					if (conv1_photocell_E_occ) {
						conv2_photocell_E_material.color = new THREE.Color(0x00ff00);

						Line.Speed = LineSpeed;

						var _v3 = new THREE.Vector3;
						_v3.set(0, 0, 0);
						kiste_1.applyCentralImpulse(_v3);
						kiste_2.applyCentralImpulse(_v3);
						kiste_3.applyCentralImpulse(_v3);
						kiste_4.applyCentralImpulse(_v3);
						kiste_5.applyCentralImpulse(_v3);
						kiste_6.applyCentralImpulse(_v3);
						kiste_7.applyCentralImpulse(_v3);
						kiste_8.applyCentralImpulse(_v3);
						kiste_9.applyCentralImpulse(_v3);
						kiste_10.applyCentralImpulse(_v3);
						kiste_11.applyCentralImpulse(_v3);
						kiste_12.applyCentralImpulse(_v3);
						kiste_13.applyCentralImpulse(_v3);
						kiste_14.applyCentralImpulse(_v3);
						conv1.setLinearVelocity(new THREE.Vector3(Line.Speed, 0, 0));
						//conv1_material.opacity = 1 ;
						//conv1_material.color = new THREE.Color(0x0000ff)					
						conv1_photocell_E_occ = false;
						// console.log( "touches conv_1 START" );
					}
				}
			}

			//updateCamera_1();		

			keyboard.update();

			var moveDistance = 50 * clock.getDelta();

			if (keyboard.down("left")) {
				Line.Speed = Line.Speed - 1;
				conv1.setLinearVelocity(new THREE.Vector3(Line.Speed, 0, 0));
				console.log("keyb left ", Line.Speed);
			}

			if (keyboard.down("right")) {
				Line.Speed = Line.Speed + 1;
				conv1.setLinearVelocity(new THREE.Vector3(Line.Speed, 0, 0));
				console.log("keyb right ", Line.Speed);
			}

			if (keyboard.pressed("A"))
				;
			if (keyboard.pressed("D"))
				;
			if (keyboard.down("R"))
				;
			if (keyboard.up("R"))
				;

			if (keyboard.down("1")) {
				conv_1_pause = !conv_1_pause;

				if (conv_1_pause) {
					Line.Speed = 0.0;
					conv1.setLinearVelocity(new THREE.Vector3(Line.Speed, 0, 0));
					//conv1_material.opacity = 0.5  ;
					//conv1_material.color = new THREE.Color(0xff0000)
				} else {

					Line.Speed = LineSpeed;

					var _v3 = new THREE.Vector3;
					_v3.set(0, 0, 0);
					kiste_1.applyCentralImpulse(_v3);
					kiste_2.applyCentralImpulse(_v3);
					kiste_3.applyCentralImpulse(_v3);
					kiste_4.applyCentralImpulse(_v3);
					kiste_5.applyCentralImpulse(_v3);
					kiste_6.applyCentralImpulse(_v3);
					kiste_7.applyCentralImpulse(_v3);
					kiste_8.applyCentralImpulse(_v3);
					kiste_9.applyCentralImpulse(_v3);
					kiste_10.applyCentralImpulse(_v3);
					kiste_11.applyCentralImpulse(_v3);
					kiste_12.applyCentralImpulse(_v3);
					kiste_13.applyCentralImpulse(_v3);
					kiste_14.applyCentralImpulse(_v3);
					conv1.setLinearVelocity(new THREE.Vector3(Line.Speed, 0, 0));
					//conv1_material.opacity = 1 ;
					//conv1_material.color = new THREE.Color(0x0000ff)
				}
			};  // if down "1"

			if (keyboard.down("2")) {
				conv_2_pause = !conv_2_pause;

				if (conv_2_pause) {
					Line.Speed = 0.0;

					conv2.setLinearVelocity(new THREE.Vector3(-Line.Speed * CornerBrakeIntensity, 0.0, Line.Speed));
					//conv2_material.opacity = 0.5  ;
					//conv2_material.color = new THREE.Color(0xff0000)
				} else {

					Line.Speed = LineSpeed;

					var _v3 = new THREE.Vector3;
					_v3.set(0, 0, 0);
					kiste_1.applyCentralImpulse(_v3);
					kiste_2.applyCentralImpulse(_v3);
					kiste_3.applyCentralImpulse(_v3);
					kiste_4.applyCentralImpulse(_v3);
					kiste_5.applyCentralImpulse(_v3);
					kiste_6.applyCentralImpulse(_v3);
					kiste_7.applyCentralImpulse(_v3);
					kiste_8.applyCentralImpulse(_v3);
					kiste_9.applyCentralImpulse(_v3);
					kiste_10.applyCentralImpulse(_v3);
					kiste_11.applyCentralImpulse(_v3);
					kiste_12.applyCentralImpulse(_v3);
					kiste_13.applyCentralImpulse(_v3);
					kiste_14.applyCentralImpulse(_v3);
					conv2.setLinearVelocity(new THREE.Vector3(-Line.Speed * CornerBrakeIntensity, 0.0, Line.Speed));
					//conv2_material.opacity = 1 ;
					//conv2_material.color = new THREE.Color(0x0000ff)
				}
			};  // if down "2"

			if (keyboard.down("P")) {
				conv2_photocell_E_occ = !conv2_photocell_E_occ;

				if (!conv2_photocell_E_occ) conv2_photocell_E_material.color.setRGB(1, 0, 1);
			}

			if (keyboard.pressed("3")) {
				conv8.__dirtyPosition = true;
				conv8.position.y = conv8.position.y + 0.03;

				var _v3 = new THREE.Vector3;
				_v3.set(0, 0, 0);
				kiste_1.applyCentralImpulse(_v3);
				kiste_2.applyCentralImpulse(_v3);
				kiste_3.applyCentralImpulse(_v3);
				kiste_4.applyCentralImpulse(_v3);
				kiste_5.applyCentralImpulse(_v3);
				kiste_6.applyCentralImpulse(_v3);
				kiste_7.applyCentralImpulse(_v3);
				kiste_8.applyCentralImpulse(_v3);
				kiste_9.applyCentralImpulse(_v3);
				kiste_10.applyCentralImpulse(_v3);
				kiste_11.applyCentralImpulse(_v3);
				kiste_12.applyCentralImpulse(_v3);
				kiste_13.applyCentralImpulse(_v3);
				kiste_14.applyCentralImpulse(_v3);
			}

			if (keyboard.pressed("4")) {
				conv8.__dirtyPosition = true;

				//for ( var i=1; i<10; i++ )
				{

					conv8.position.y = conv8.position.y - 0.03;

					var _v3 = new THREE.Vector3;
					_v3.set(0, 0, 0);
					kiste_1.applyCentralImpulse(_v3);
					kiste_2.applyCentralImpulse(_v3);
					kiste_3.applyCentralImpulse(_v3);
					kiste_4.applyCentralImpulse(_v3);
					kiste_5.applyCentralImpulse(_v3);
					kiste_6.applyCentralImpulse(_v3);
					kiste_7.applyCentralImpulse(_v3);
					kiste_8.applyCentralImpulse(_v3);
					kiste_9.applyCentralImpulse(_v3);
					kiste_10.applyCentralImpulse(_v3);
					kiste_11.applyCentralImpulse(_v3);
					kiste_12.applyCentralImpulse(_v3);
					kiste_13.applyCentralImpulse(_v3);
					kiste_14.applyCentralImpulse(_v3);

				}
			}
		} // update

		function render() {
			scene.simulate(); // run physics
			// scene.simulate( undefined, 1 ); // run physics
			renderer.render(scene, camera);
		}

		// window.onload = initScene;

	</script>
	<div id="viewport"></div>
</body>

</html>